<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Formulario de Factura</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .navbar {
            background-color: #0044cc;
            overflow: hidden;
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .navbar a {
            color: white;
            padding: 14px 20px;
            text-decoration: none;
            text-align: center;
            transition: background 0.3s;
        }

        .navbar a:hover {
            background-color: #606263;
        }
    </style>
</head>
<body>

    <div class="navbar">
        <a href="clientes.html">Clientes</a>
        <a href="articulos.html">Artículos</a>
        <a href="index.html">Factura</a>
    </div>

    <h1 id="factura">Formulario de Factura</h1>
    <form id="facturaForm">
        <div class="form-group">
            <label>Número de Factura:</label>
            <input type="text" id="facNum" required>
        </div>
        <div class="form-group">
            <label>Fecha:</label>
            <input type="date" id="facFec" required>
        </div>
        <div class="form-group">
            <label>Fecha Vencimiento:</label>
            <input type="date" id="facVen" required>
        </div>

        <div class="form-group" id="clientes">
            <label>NIT (Buscar):</label>
            <input type="text" id="nitBuscar" required>
            <button type="button" onclick="buscarNit()">Buscar</button>
        </div>
        <div class="form-group">
            <label>Nombre:</label>
            <input type="text" id="nitNombre" disabled>
        </div>
        <div class="form-group">
            <label>Cupo:</label>
            <input type="number" id="nitCupo" disabled>
        </div>
        <div class="form-group">
            <label>Plazo:</label>
            <input type="number" id="nitPlazo" disabled>
        </div>
        <div class="form-group">
            <label>Disponible:</label>
            <input type="number" id="nitDisponible" disabled>
        </div>

        <hr>

        <div class="form-group" id="articulos">
            <label>Código Artículo (Buscar):</label>
            <input type="text" id="artBuscar" required>
            <button type="button" onclick="buscarArticulo()">Buscar</button>
        </div>
        <div class="form-group">
            <label>Nombre:</label>
            <input type="text" id="artNombre" disabled>
        </div>
        <div class="form-group">
            <label>Laboratorio:</label>
            <input type="text" id="artLab" disabled>
        </div>
        <div class="form-group">
            <label>Naturaleza:</label>
            <select id="naturaleza" onchange="cambiarNaturaleza()">
                <option value="+">+</option>
                <option value="-">-</option>
            </select>
        </div>
        <div class="form-group">
            <label>Saldo:</label>
            <input type="number" id="artSaldo" disabled>
        </div>
        <div class="form-group">
            <label>Unidades:</label>
            <input type="number" id="unidades" required>
        </div>
        <div class="form-group">
            <label>Costo:</label>
            <input type="number" step="0.01" id="costo">
        </div>
        <div class="form-group" id="precioVentaGroup" style="display: none;">
            <label>Precio Venta:</label>
            <input type="number" step="0.01" id="precioVenta">
        </div>

        <button type="button" onclick="agregarRejilla()">Agregar</button>
        <button type="button" onclick="guardarFactura()">Guardar Factura</button>
    </form>

    <hr>
    <h2>Detalle Factura</h2>
    <table id="tablaRejilla">
        <thead>
            <tr>
                <th>Artículo</th>
                <th>Nombre</th>
                <th>Laboratorio</th>
                <th>Naturaleza</th>
                <th>Unidades</th>
                <th>Costo</th>
                <th>Precio Venta</th>
                <th>Total Costo</th>
                <th>Total Venta</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody></tbody>
        <tfoot>
            <tr>
                <td colspan="7" style="text-align: right;"><strong>Totales:</strong></td>
                <td id="totalCosto">0.00</td>
                <td id="totalVenta">0.00</td>
                <td></td>
            </tr>
        </tfoot>
    </table>

    <hr>
    <div id="facturasGuardadas"></div>

    <script src="script.js"></script>
</body>
</html>
